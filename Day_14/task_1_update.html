<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let arr = [{
            "product_images_id": [1, 2, 3, 4, 5],
            "product_images": ["aweferfaerfre.jpg", "wreareg.jpeg", "wreareg.jpeg", "wreareg.jpeg"],
            "product_price": ["20", "85", "21", "11", "0"]
        },

        {
            "product_images_id": [1, 2, 5],
            "product_images": ["aweferfaerfre.jpg"],
            "product_price": "30"
        }
        ];

        let ans = [];
        let data = [];
        for (let e of arr) {
            let flag = false;
            if (typeof (e.product_price) === "object") {
                flag = true;
            };


            for (let key in e.product_images_id) {


                let temp = {};
                temp["product_images_id"] = e.product_images_id[key] 
                if(e.product_images[key]){
                    temp["product_images"] = e.product_images[key];
                }

                
                if (flag) {
                    temp["product_price"] = e.product_price[key];
                }
                data.push(temp)
            }


            let temp = {}

            if (!flag) {
                temp["product_price"] = e.product_price;
                flag = false
            }
            
            temp["data"] = data
            data = [];
            ans.push(temp)
        }
        // console.log(JSON.stringify(ans, null, 4));
//         let arr11 = [null, null, null, "branford", null, "alps", null, "bradford", null, "bradford", null, "bradford",
// "orland"]
// console.log(arr11.length);
    </script>
</body>

</html>